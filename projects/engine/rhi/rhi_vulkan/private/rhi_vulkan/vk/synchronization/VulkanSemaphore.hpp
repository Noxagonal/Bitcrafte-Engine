#pragma once

#include <build_configuration/BuildConfigurationComponent.hpp>

#include <vulkan/vulkan.h>



namespace bc {
namespace rhi {



class RHIVulkanImpl;



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class VulkanSemaphore
{
public:

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	VulkanSemaphore(
		RHIVulkanImpl							&	rhi_vulkan_impl,
		bool										create_timeline_semaphore
	);

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	VulkanSemaphore(
		const VulkanSemaphore					&	other
	) = delete;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	VulkanSemaphore(
		VulkanSemaphore							&&	other
	) = delete;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	~VulkanSemaphore();
	
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	VulkanSemaphore								&	operator=(
		const VulkanSemaphore					&	other
	) = delete;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	VulkanSemaphore								&	operator=(
		VulkanSemaphore							&&	other
	) noexcept;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void											Clear();

private:

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	void											MoveOther(
		VulkanSemaphore							&&	other
	);

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	VkSemaphore										vk_semaphore							= VK_NULL_HANDLE;

	RHIVulkanImpl								&	rhi_vulkan_impl;
};



} // rhi
} // bc
