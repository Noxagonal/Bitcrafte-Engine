#pragma once

#include <build_configuration/BuildConfigurationComponent.hpp>
#include <rhi/RHIComponent.hpp>

#include <core/containers/UniquePtr.hpp>



namespace bc {
namespace rhi {



class RHIVulkanImpl;



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class RHIVulkanComponent : public RHIComponent
{
public:

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	RHIVulkanComponent(
		const RHIComponentCreateInfo								&	create_info
	);

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	virtual ~RHIVulkanComponent() override;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	virtual void														Start(
		const RHIComponentStartInfo									&	rhi_start_info
	) override;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	virtual List<Text>													GetGraphicsCardList() override;

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	int64_t																GetPrimaryGraphicsCardIndex() override;

private:

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	static UniquePtr<RHIVulkanImpl>										CreateRHIVulkanImpl(
		const RHIComponentCreateInfo								&	create_info
	);

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	UniquePtr<RHIVulkanImpl>											rhi_vulkan_impl;
};



} // rhi
} // bc
